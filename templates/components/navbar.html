{% load static %}

<!-- Header -->
<header>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="nav-logo-container">
            <a href="{% url 'home' %}" class="nav-logo">Bit<span>Log</span></a>
        </div>
        <div class="navlink-container">
            <a href="{% url 'home' %}" class="navlink">Home</a>
            <a href="{% url 'explore' %}" class="navlink">Explore</a>

            {% if request.user.is_authenticated %}
            <a href="{% url 'create_post' %}" class="navlink">Write</a>
            <!-- User Profile Button -->
            <div
                class="navlink-profile-button"
                onclick="document.querySelector('.dropdown-menu').classList.toggle('show')">
                <!-- User Profile -->
                {% if request.user.profile.profile_picture %}
                <img src="{{request.user.profile.profile_picture.url}}" alt="" class="avatar avatar-small" />
                {% else %}
                <img src="{% static 'icons/avatar.svg' %}" alt="" class="avatar avatar-small" />
                {% endif %}

                <div class="dropdown-menu">
                    <a href="{% url 'users:user_profile' request.user.username %}" class="dropdown-link">
                        <img src="{% static 'icons/icons8_user.svg' %}" alt="" class="icon icon-small" />
                        My Profile 
                    </a>
                    <a href="#" class="dropdown-link">
                        <img src="{% static 'icons/icons8_settings.svg' %}" alt="" class="icon icon-small" />
                        Settings
                    </a>
                    <hr />
                    <a href="{% url 'accounts:logout' %}" class="dropdown-link">
                        <img src="{% static 'icons/icons8_Logout.svg' %}" alt="" class="icon icon-small" />
                        Logout
                    </a>
                </div>
            </div>

            {% else %}
            <!-- Call-to-action (CTA) -->
            <div>
                <a href="{% url 'accounts:login' %}" class="btn btn-primary">Sign In</a>
            </div>
            {% endif %}
        </div>
    </nav>
</header>
